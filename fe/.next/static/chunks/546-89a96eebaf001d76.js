"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{2546:function(e,n,r){r.d(n,{S:function(){return K},g:function(){return ne}});var t=r(5893),c=r(782),i=function(e){var n=e.children;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R,{}),n,(0,t.jsx)(c.Ix,{}),(0,t.jsx)(L,{})]})},a=r(4051),s=r.n(a),o=r(9398),l=r(9583),u=r(2814),d=r(9669),h=r.n(d),f="jwt",p="refresh",v={getToken:function(){return JSON.parse(localStorage.getItem(f))},setToken:function(e){localStorage.setItem(f,JSON.stringify(e))},clearToken:function(){localStorage.removeItem(f)},getRefresh:function(){return JSON.parse(localStorage.getItem(p))},setRefresh:function(e){localStorage.setItem(p,JSON.stringify(e))},clearRefresh:function(){localStorage.removeItem(p)},getItem:function(e){return JSON.parse(localStorage.getItem(e))},setItem:function(e,n){localStorage.setItem(e,JSON.stringify(n))},clearItem:function(e){localStorage.removeItem(e)}},m=r(8662);function x(e,n,r,t,c,i,a){try{var s=e[i](a),o=s.value}catch(l){return void r(l)}s.done?n(o):Promise.resolve(o).then(t,c)}function j(e){return function(){var n=this,r=arguments;return new Promise((function(t,c){var i=e.apply(n,r);function a(e){x(i,t,c,a,s,"next",e)}function s(e){x(i,t,c,a,s,"throw",e)}a(void 0)}))}}var g=function(){var e=v.getToken();return h().create({baseURL:"http://localhost:8000/api",headers:{Authorization:"Bearer ".concat(e)}})},w={get:function(){var e=j(s().mark((function e(n){var r,t,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=g(),(0,m.ZP)(r,{retries:3,retryDelay:function(e){return 1e3*e}}),e.next=5,r.get(n);case 5:return t=e.sent.data,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(null===(c=e.t0.response)||void 0===c?void 0:c.data)||{msg:"unknow"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),post:function(){var e=j(s().mark((function e(n,r){var t,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=g(),(0,m.ZP)(t,{retries:3,retryDelay:function(e){return 1e3*e}}),e.next=5,t.post(n,r);case 5:return c=e.sent.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(null===(i=e.t0.response)||void 0===i?void 0:i.data)||{msg:"unknow"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,r){return e.apply(this,arguments)}}(),put:function(){var e=j(s().mark((function e(n,r){var t,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=g(),(0,m.ZP)(t,{retries:3,retryDelay:function(e){return 1e3*e}}),e.next=5,t.put(n,r);case 5:return c=e.sent.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(null===(i=e.t0.response)||void 0===i?void 0:i.data)||{msg:"unknow"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,r){return e.apply(this,arguments)}}(),patch:function(){var e=j(s().mark((function e(n,r){var t,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=g(),(0,m.ZP)(t,{retries:3,retryDelay:function(e){return 1e3*e}}),e.next=5,t.patch(n,r);case 5:return c=e.sent.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(null===(i=e.t0.response)||void 0===i?void 0:i.data)||{msg:"unknow"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,r){return e.apply(this,arguments)}}(),delete:function(){var e=j(s().mark((function e(n){var r,t,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=g(),(0,m.ZP)(r,{retries:3,retryDelay:function(e){return 1e3*e}}),e.next=5,r.delete(n);case 5:return t=e.sent.data,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(null===(c=e.t0.response)||void 0===c?void 0:c.data)||{msg:"unknow"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},b=w,y=r(1664),k=r.n(y),N=r(7294),S=r(1043);function _(e,n,r,t,c,i,a){try{var s=e[i](a),o=s.value}catch(l){return void r(l)}s.done?n(o):Promise.resolve(o).then(t,c)}var P=function(){return function(){var e,n=(e=s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/user");case 2:r=e.sent.data,n({type:"CHANGE_USER",payload:{user:r}});case 4:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,c){var i=e.apply(n,r);function a(e){_(i,t,c,a,s,"next",e)}function s(e){_(i,t,c,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()},O=[{text:"PLUZZLE",link:"/"},{text:"THI\u1ebeT K\u1ebe",link:"/upload"}];function C(e,n,r,t,c,i,a){try{var s=e[i](a),o=s.value}catch(l){return void r(l)}s.done?n(o):Promise.resolve(o).then(t,c)}function F(e){return function(){var n=this,r=arguments;return new Promise((function(t,c){var i=e.apply(n,r);function a(e){C(i,t,c,a,s,"next",e)}function s(e){C(i,t,c,a,s,"throw",e)}a(void 0)}))}}function I(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function E(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){I(e,n,r[n])}))}return e}var T=function(){var e=(0,S.I0)(),n=(0,S.v9)((function(e){return e.user})),r=(0,N.useRef)(),i=(0,N.useState)(!1),a=i[0],d=i[1],h=(0,N.useState)(!1),f=h[0],p=h[1],m=(0,N.useState)(!1),x=m[0],j=m[1],g=function(){var n=F(s().mark((function n(r){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.post("/auth",E({},r));case 2:if("not existed"!==(t=n.sent).msg&&"not valid email"!==t.msg&&100!==t.status){n.next=5;break}return n.abrupt("return",(0,c.Am)("Email ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c"));case 5:1===t.status&&(0,c.Am)("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"),d(!1),v.setToken(t.token),e(P());case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),w=function(){var e=F(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.password===n.repassword){e.next=2;break}return e.abrupt("return",(0,c.Am)("Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp"));case 2:return e.next=4,b.post("/user",n);case 4:if("not valid email"!==(r=e.sent).msg){e.next=7;break}return e.abrupt("return",(0,c.Am)("Email kh\xf4ng h\u1ee3p l\u1ec7"));case 7:if("wrong length"!==r.msg){e.next=9;break}return e.abrupt("return",(0,c.Am)("M\u1eadt kh\u1ea9u ph\u1ea3i t\u1eeb 6-18 k\xed t\u1ef1"));case 9:if("existed"!==r.msg){e.next=11;break}return e.abrupt("return",(0,c.Am)("Email \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng"));case 11:1===r.status&&(0,c.Am)("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng"),p(!1),d(!0);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,N.useEffect)((function(){var e=function(e){e.path.includes(r.current)||j(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{show:a,onClose:function(){return d(!1)},children:(0,t.jsxs)(G,{onSubmit:g,children:[(0,t.jsx)("div",{className:"title",children:"\u0110\u0103ng nh\u1eadp"}),(0,t.jsx)(V,{name:"email",placeholder:"Email"}),(0,t.jsx)(V,{name:"password",type:"password",placeholder:"M\u1eadt kh\u1ea5u"}),(0,t.jsx)("button",{className:"button highlight",children:"\u0110\u0103ng nh\u1eadp"})]})}),(0,t.jsx)(Z,{show:f,onClose:function(){return p(!1)},children:(0,t.jsxs)(G,{onSubmit:w,children:[(0,t.jsx)("div",{className:"title",children:"\u0110\u0103ng k\xfd"}),(0,t.jsx)(V,{name:"email",placeholder:"Email"}),(0,t.jsx)(V,{name:"password",type:"password",placeholder:"M\u1eadt kh\u1ea5u"}),(0,t.jsx)(V,{name:"repassword",type:"password",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea5u"}),(0,t.jsx)("button",{className:"button highlight",children:"\u0110\u0103ng k\xfd"})]})}),(0,t.jsxs)("header",{children:[(0,t.jsx)("div",{className:"menu",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(l.tBk,{})}),(0,t.jsx)("li",{children:(0,t.jsx)(l.V2E,{})}),(0,t.jsx)("li",{children:(0,t.jsx)(l.Zf_,{})}),O.map((function(e){return(0,t.jsx)("li",{children:(0,t.jsx)(k(),{href:e.link,children:(0,t.jsx)("a",{children:e.text})})},e.text)}))]})}),!n&&(0,t.jsxs)("div",{className:"profile",children:[(0,t.jsx)("div",{onClick:function(){return d(!0)},className:"button",children:"\u0110\u0103ng nh\u1eadp"}),(0,t.jsx)("div",{onClick:function(){return p(!0)},className:"button highlight",children:"\u0110\u0103ng k\xfd"})]}),n&&(0,t.jsxs)("div",{ref:r,onClick:function(){return j(!x)},className:"profile loged",children:[(0,t.jsx)("div",{className:"name",children:n.email}),(0,t.jsxs)("div",{className:"icon",children:[" ",(0,t.jsx)(u.G,{icon:o.ILF})]}),(0,t.jsx)("div",{className:"popover ".concat(x?"show":""," "),children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(k(),{href:"/cart",children:(0,t.jsx)("a",{children:" Gi\u1ecf h\xe0ng"})})}),(0,t.jsx)("li",{children:(0,t.jsx)(k(),{href:"/history",children:(0,t.jsx)("a",{children:"\u0110\u01a1n h\xe0ng"})})}),(0,t.jsx)("li",{children:(0,t.jsx)(k(),{href:"/profile",children:(0,t.jsx)("a",{children:"Th\xf4ng tin c\xe1 nh\xe2n"})})}),(0,t.jsx)("li",{onClick:function(){return window.location.reload()},children:"\u0110\u0103ng xu\u1ea5t"})]})})]})]})]})},R=T,D=r(2251),A=r(6893),B=r(6653),H=r(8193),L=function(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("footer",{className:"footer",children:(0,t.jsxs)("div",{className:"footer-default",children:[(0,t.jsxs)("div",{className:"footer-default__col-1",children:[(0,t.jsx)("p",{className:"footer-default__header",children:"DECORNOW"}),(0,t.jsx)("p",{className:"footer-default__col-1--license",children:"Gi\u1ea5y ph\xe9p \u0111\u0103ng k\xfd kinh doanh s\u1ed1 41L8031928 do UBND Qu\u1eadn 12 c\u1ea5p ng\xe0y 25/02/2021"}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{children:(0,t.jsx)(B.Sw5,{})}),(0,t.jsxs)("span",{children:["T\xf2a nh\xe0 Th\xe1i An, 2290 Qu\u1ed1c L\u1ed9 1A, ph\u01b0\u1eddng Trung M\u1ef9 T\xe2y, ",(0,t.jsx)("br",{}),"Qu\u1eadn 12, TP. H\u1ed3 Ch\xed Minh"]})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{children:(0,t.jsx)(A.tUt,{})}),(0,t.jsx)("span",{children:(0,t.jsxs)("p",{children:[(0,t.jsx)("a",{href:"tel:0328889398",children:"032 888 9398"})," ",(0,t.jsx)("br",{}),(0,t.jsx)("a",{href:"tel:0937628360",children:"093 762 8360"})]})})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{children:(0,t.jsx)(H.Dme,{})}),(0,t.jsx)("span",{children:(0,t.jsx)("a",{href:"mailto:contact@decornow.vn",children:"contact@decornow.vn"})})]})]})]}),(0,t.jsxs)("div",{className:"footer-default__col-2",children:[(0,t.jsx)("p",{className:"footer-default__header",children:"Trang"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(k(),{href:"/thiet-ke",children:"Thi\xea\u0301t k\xea\u0301"})}),(0,t.jsx)("li",{children:(0,t.jsx)(k(),{href:"/huong-dan",children:"H\u01b0\u01a1\u0301ng D\xe2\u0303n"})}),(0,t.jsx)("li",{children:(0,t.jsx)(k(),{href:"/bo-khung-anh",children:"B\u1ed9 Khung \u1ea2nh"})}),(0,t.jsx)("li",{children:(0,t.jsx)(k(),{href:"/cart",children:"Gio\u0309 Ha\u0300ng"})})]})]}),(0,t.jsxs)("div",{className:"footer-default__col-3",children:[(0,t.jsx)("p",{className:"footer-default__header text-left",children:"Facebook"}),(0,t.jsx)(D.Z,{name:"f1407468eeb468","data-testid":"fb:page Facebook Social Plugin",title:"fb:page Facebook Social Plugin",frameBorder:0,allowFullScreen:!0,scrolling:"no",allow:"encrypted-media",url:"https://www.facebook.com/v10.0/plugins/page.php?adapt_container_width=true&app_id=&channel=https%3A%2F%2Fstaticxx.facebook.com%2Fx%2Fconnect%2Fxd_arbiter%2F%3Fversion%3D46%23cb%3Dfb3f1260e81dfc%26domain%3Ddecornow.vn%26is_canvas%3Dfalse%26origin%3Dhttps%253A%252F%252Fdecornow.vn%252Ff9384254468f8%26relation%3Dparent.parent&container_width=370&hide_cover=false&href=https%3A%2F%2Fwww.facebook.com%2FDecorNow.VN&locale=vi_VN&sdk=joey&show_facepile=true&small_header=false&tabs="})]})]})})})},M=function(e){var n=e.items,r=e.loop,c=void 0===r||r,i=e.interval,a=void 0===i?5e3:i,s=e.dots,o=void 0===s||s,l=(0,N.useState)(0),u=l[0],d=l[1];return(0,N.useEffect)((function(){var e;return c&&(e=setTimeout((function(){u+1>n.length-1?d(0):d(u+1)}),a)),function(){clearTimeout(e)}}),[u,n,c]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"banner",children:(0,t.jsxs)("div",{className:"track",children:[(0,t.jsx)("div",{style:{"--total":n.length,"--current":u},className:"list",children:n.map((function(e,n){return(0,t.jsx)("div",{className:"item",children:(0,t.jsx)("img",{className:"cover",src:e.img,alt:""})},e.img+n)}))}),o&&(0,t.jsx)("div",{className:"dots",children:n.map((function(e,n){return(0,t.jsx)("div",{onClick:function(){return d(n)},className:"dot ".concat(u===n?"active":"")},e.link+"index")}))})]})})})},Z=function(e){var n=e.show,r=e.onClose,c=void 0===r?function(){}:r,i=e.children;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"modal ".concat(n?"show":""),children:[(0,t.jsx)("div",{className:"mask",onClick:c}),(0,t.jsx)("div",{className:"body",children:i})]})})},G=function(e){var n=e.onSubmit,r=(e.onReset,e.children),c=(0,N.useRef)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("form",{onSubmit:function(e){e.preventDefault();var r=new FormData(c.current),t={},i=!0,a=!1,s=void 0;try{for(var o,l=r[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;t[u[0]]=u[1]}}catch(d){a=!0,s=d}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}n&&n(t)},ref:c,children:r})})};function U(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function J(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){U(e,n,r[n])}))}return e}function z(e,n){if(null==e)return{};var r,t,c=function(e,n){if(null==e)return{};var r,t,c={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(c[r]=e[r]);return c}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}var V=function(e){var n=e.label,r=e.type,c=void 0===r?"text":r,i=e.name,a=void 0===i?"":i,s=e.placeholder,l=void 0===s?"":s,d=e.onChange,h=void 0===d?function(){}:d,f=e.onFocus,p=void 0===f?function(){}:f,v=e.onBlur,m=void 0===v?function(){}:v,x=e.defaultValue,j=void 0===x?"":x,g=z(e,["label","type","name","placeholder","onChange","onFocus","onBlur","defaultValue"]),w=(0,N.useState)(c),b=w[0],y=w[1],k=(0,N.useState)("password"===c),S=k[0],_=k[1],P=(0,N.useState)(!!j||!1),O=P[0],C=P[1],F=(0,N.useState)(j),I=F[0],E=F[1];(0,N.useEffect)((function(){""!==j&&C(!0),E(j)}),[j]);return(0,N.useEffect)((function(){y(S?"password":"text")}),[S]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",J({className:"row-input"},g,{children:[n&&(0,t.jsx)("div",{className:"label",children:(0,t.jsx)("img",{src:n,alt:""})}),(0,t.jsxs)("div",{className:"input-placeholder ".concat(O?"active":""),children:[(0,t.jsx)("span",{className:"placeholder",children:l}),(0,t.jsx)("input",{autoComplete:"off",onFocus:function(){p(),C(!0)},onBlur:function(){""===I&&C(!1),m()},onChange:function(e){E(e.target.value),h(e.target.value)},name:a,value:I,type:b}),"password"===c?(0,t.jsx)("div",{onClick:function(){return _(!S)},className:"eye",children:(0,t.jsx)(u.G,{icon:S?o.Mdf:o.Aq})}):null]})]}))})},K=function(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(i,{children:(0,t.jsxs)("div",{className:"home",children:[(0,t.jsx)(M,{dots:!1,items:[{img:"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__480.jpg"}]}),(0,t.jsx)("section",{className:"ss_1",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("iframe",{width:"100%",style:{aspectRatio:"16 / 9"},src:"https://www.youtube.com/embed/_0NrayhpdA0",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,t.jsx)("div",{className:"button",children:"B\u1eaft \u0111\u1ea7u thi\u1ebft k\u1ebf"})]})})]})})})},Q=function(e){return new Promise((function(n){var r=new FileReader;r.onload=function(e){var r,t=null===(r=e.target)||void 0===r?void 0:r.result,c=new Blob([new Uint8Array(t)]),i=window.URL.createObjectURL(c);n(i)},r.readAsArrayBuffer(e)}))};function W(e,n,r,t,c,i,a){try{var s=e[i](a),o=s.value}catch(l){return void r(l)}s.done?n(o):Promise.resolve(o).then(t,c)}function q(e){return function(){var n=this,r=arguments;return new Promise((function(t,c){var i=e.apply(n,r);function a(e){W(i,t,c,a,s,"next",e)}function s(e){W(i,t,c,a,s,"throw",e)}a(void 0)}))}}function X(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){X(e,n,r[n])}))}return e}var $=[{slice:"/images/slice_1.png",sliceIcon:"/images/slice_icon_1.png"},{slice:"/images/slice_2.png",sliceIcon:"/images/slice_icon_2.png"},{slice:"/images/slice_3.png",sliceIcon:"/images/slice_icon_3.png"},{slice:"/images/slice_4.png",sliceIcon:"/images/slice_icon_4.png"}],ee=function(){var e=(0,N.useState)($[0]),n=e[0],r=e[1],c=(0,N.useState)(1),a=c[0],o=c[1],u=(0,N.useState)({w:3e3,h:3e3}),d=u[0],h=u[1],f=(0,N.useState)({x:0,y:0}),p=f[0],v=f[1],m=(0,N.useState)(null),x=m[0],j=m[1],g=(0,N.useState)(null),w=g[0],b=g[1],y=(0,N.useRef)(null),k=(0,N.useRef)(null),S=(0,N.useRef)();(0,N.useEffect)((function(){k.current&&!S.current&&(S.current=k.current.getContext("2d")),k.current&&(k.current.width=d.w,k.current.height=d.h)}),[d]);var _=function(){var e=q(s().mark((function e(){var n,r,t,c,i,a,o,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return n=e.sent,r=n.width,t=n.height,(c=document.createElement("canvas")).width=d.w,c.height=d.h,i=c.getContext("2d"),a=d.w/r,o=d.h/t,l=Math.min(a,o),y.current||(y.current=l),null===x?(j(y.current),null===i||void 0===i||i.drawImage(n,0,0,r,t,p.x,p.y,d.w*y.current,d.h*y.current)):null===i||void 0===i||i.drawImage(n,0,0,r,t,p.x,p.y,d.w*x,d.h*x),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){return new Promise((function(e){if(w){var n=new Image;n.src=w,n.onload=function(){e(n)}}}))},O=function(){return new Promise((function(e){var r=new Image;r.src=n.slice,r.onload=function(){var n=document.createElement("canvas");n.width=d.w,n.height=d.h;var t=n.getContext("2d");null===t||void 0===t||t.drawImage(r,0,0,r.width,r.height,0,0,d.w,d.h),e(n)}}))};(0,N.useEffect)((function(){if(S.current){if(S.current.clearRect(0,0,d.w,d.h),S.current.fillStyle="#ccc",S.current.beginPath(),0!==a&&1!==a||(S.current.fillRect(0,0,d.w,d.h),w&&_().then((function(e){if(S.current){var n=S.current.createPattern(e,"no-repeat");S.current.fillStyle=n,S.current.fillRect(0,0,d.w,d.h)}O().then((function(e){if(S.current){var n=S.current.createPattern(e,"no-repeat");S.current.fillStyle=n,S.current.fillRect(0,0,d.w,d.h)}}))}))),2===a&&(S.current.arc(d.w/2,d.h/2,d.w/2,0,2*Math.PI),S.current.fill(),w&&_().then((function(e){if(S.current){var n=S.current.createPattern(e,"no-repeat");S.current.fillStyle=n,S.current.fill()}O().then((function(e){if(S.current){var n=S.current.createPattern(e,"no-repeat");S.current.fillStyle=n,S.current.fill()}}))}))),3===a){var e=d.w/2,n=d.h/4,r=e/50;S.current.lineWidth=10,S.current.moveTo(e,n),S.current.bezierCurveTo(e,0,r,0,r,n),S.current.bezierCurveTo(0,d.h/2,e/4,2*n,e,d.h),S.current.bezierCurveTo(d.w-e/4,2*n,d.w,d.h/2,d.w-r,n),S.current.bezierCurveTo(d.w-r,0,e,0,e,n),S.current.strokeStyle="#000",S.current.fill(),w&&_().then((function(e){if(S.current){var n=S.current.createPattern(e,"no-repeat");S.current.fillStyle=n,S.current.fill()}O().then((function(e){if(S.current){var n=S.current.createPattern(e,"no-repeat");S.current.fillStyle=n,S.current.fill()}}))}))}O(),S.current.closePath()}}),[d,a,p,w,x,n]),(0,N.useEffect)((function(){j(null),y.current=null,0===a&&h({w:2100,h:3e3}),1===a&&h({w:3e3,h:3e3}),2===a&&h({w:3e3,h:3e3}),3===a&&h({w:2700,h:3e3})}),[a]);var C=function(e){var n=d.w/100*e;v(Y({},p,{x:p.x+n}))},F=function(e){var n=d.h/100*e;v(Y({},p,{y:p.y+n}))},I=function(){var e=q(s().mark((function e(n){var r,t,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.persist(),c=null===n||void 0===n||null===(r=n.target)||void 0===r||null===(t=r.files)||void 0===t?void 0:t[0]){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Q(c);case 7:i=e.sent,b(i),j(null),y.current=null;case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(i,{children:(0,t.jsx)("div",{className:"upload",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"title",children:"THI\u1ebeT K\u1ebe B\u1ed8 X\u1ebeP H\xccNH G\u1ed6 C\u1ee6A RI\xcaNG B\u1ea0N"}),(0,t.jsx)("div",{id:"canvas",children:(0,t.jsx)("canvas",{ref:k})}),(0,t.jsxs)("div",{className:"upload",children:[(0,t.jsx)("label",{htmlFor:"upload",children:"T\u1ea3i h\xecnh l\xean"}),(0,t.jsx)("input",{onChange:I,type:"file",name:"",id:"upload"})]}),(0,t.jsxs)("div",{className:"controls",children:[(0,t.jsx)("div",{onClick:function(){x&&y.current&&j(x+y.current/50)},className:"control",children:(0,t.jsx)(l.wEH,{})}),(0,t.jsx)("div",{onClick:function(){x&&y.current&&j(x-y.current/50)},className:"control",children:(0,t.jsx)(l.iFH,{})}),(0,t.jsx)("div",{onClick:function(){return F(-1)},className:"control",children:(0,t.jsx)(l.PcH,{})}),(0,t.jsx)("div",{onClick:function(){return F(1)},className:"control",children:(0,t.jsx)(l.dOo,{})}),(0,t.jsx)("div",{onClick:function(){return C(-1)},className:"control",children:(0,t.jsx)(l.O18,{})}),(0,t.jsx)("div",{onClick:function(){return C(1)},className:"control",children:(0,t.jsx)(l.Rdr,{})})]}),(0,t.jsxs)("div",{className:"frame",children:[(0,t.jsx)("div",{className:"title",children:"Khung h\xecnh"}),(0,t.jsx)("div",{onClick:function(){return o(0)},className:"frame_1 ".concat(0===a?"selected":""),children:(0,t.jsx)("span",{children:"H\xecnh ch\u1eef nh\u1eadt 21x30"})}),(0,t.jsx)("div",{onClick:function(){return o(1)},className:"frame_2 ".concat(1===a?"selected":""),children:"H\xecnh vu\xf4ng 30x30"}),(0,t.jsx)("div",{onClick:function(){return o(2)},className:"frame_3 ".concat(2===a?"selected":""),children:"H\xecnh tr\xf2n 30x30"}),(0,t.jsxs)("div",{onClick:function(){return o(3)},className:"frame_4 ".concat(3===a?"selected":""),children:[(0,t.jsx)(H.M_L,{}),(0,t.jsx)("span",{children:"Tr\xe1i tim 27x30"})]})]}),(0,t.jsxs)("div",{className:"slices",children:[(0,t.jsx)("div",{className:"title",children:"\u0110\u01b0\u1eddng c\u1eaft"}),$.map((function(e){return(0,t.jsx)("div",{onClick:function(){return r(e)},className:"slice ".concat(n.slice===e.slice?"selected":""),children:(0,t.jsx)("img",{src:e.sliceIcon,alt:""})},e.slice)}))]})]})})})})},ne=ee}}]);