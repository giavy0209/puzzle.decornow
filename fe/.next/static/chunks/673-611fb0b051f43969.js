"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[673],{7673:function(e,n,t){t.d(n,{AP:function(){return ie},SK:function(){return s},Sq:function(){return ae},hF:function(){return se},xs:function(){return O},dn:function(){return D},gq:function(){return C}});var r=t(5893),i=t(2943),c=t(1664),a=t.n(c),s=function(e){var n,t,c=e.newProduct,s=e.categories;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"home",children:[(0,r.jsx)(i.jL,{dots:!1,items:[{img:"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__480.jpg"}]}),(0,r.jsx)("section",{className:"ss_1",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("iframe",{width:"100%",style:{aspectRatio:"16 / 9"},src:"https://www.youtube.com/embed/_0NrayhpdA0",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,r.jsx)("div",{className:"button",children:"B\u1eaft \u0111\u1ea7u thi\u1ebft k\u1ebf"})]})}),(0,r.jsx)("section",{className:"ss_2",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"title",children:"S\u1ea2N PH\u1ea8M M\u1edaI"}),(0,r.jsx)("div",{className:"row column-6",children:null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.map((function(e){return(0,r.jsx)(a(),{href:"/product-detail/".concat(e.slug),children:(0,r.jsxs)("a",{href:"/product-detail/".concat(e.slug),className:"item",children:[(0,r.jsx)("div",{className:"img",children:(0,r.jsx)("img",{className:"cover",src:e.thumbnail,alt:""})}),(0,r.jsx)("div",{className:"name",children:e.name}),(0,r.jsxs)("div",{className:"price",children:[Number(e.price).toLocaleString(),"\u0111"]})]})},e._id)}))})]})}),(0,r.jsx)("section",{className:"ss_3",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"title",children:["PLUZZLE","'","S MESSAGE"]}),(0,r.jsx)("p",{children:"Ch\u1ea5t li\u1ec7u g\u1ed7 khi\u1ebfn cho s\u1ea3n ph\u1ea9m tr\u1edf n\xean \u0111\u1ed9c \u0111\xe1o v\xe0 sang tr\u1ecdng h\u01a1n. \u0110\u1eb7c bi\u1ec7t, vi\u1ec7c s\u1eed d\u1ee5ng c\xf4ng ngh\u1ec7 in UV v\u1edbi m\u1ef1c cao c\u1ea5p t\u1ea1o n\xean \u0111\u1ed9 b\u1ec1n m\xe0u cao. S\u1ea3n ph\u1ea9m c\u1ee7a Pluzzle \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf v\xe0 s\u1ea3n xu\u1ea5t t\u1ea1i Vi\u1ec7t Nam. S\u1ea3n ph\u1ea9m g\u1eedi t\u1edbi b\u1ea1n ch\u1ee9a \u0111\u1ef1ng t\xecnh y\xeau v\xe0 t\xe2m huy\u1ebft c\u1ee7a ch\xfang m\xecnh. Hy v\u1ecdng c\xe1c b\u1ea1n lu\xf4n h\xe0i l\xf2ng khi tr\u1ea3i nghi\u1ec7m s\u1ea3n ph\u1ea9m c\u1ee7a ch\xfang m\xecnh.Pluzzle.vn"})]})}),(0,r.jsx)("section",{className:"ss_4 mt-30",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"title",children:"COLLECTION LIST"}),(0,r.jsx)("div",{className:"row column-6",children:null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.map((function(e){return(0,r.jsx)(a(),{href:"/product/".concat(e.slug),children:(0,r.jsxs)("a",{href:"/product/".concat(e.slug),className:"item",children:[(0,r.jsx)("div",{className:"img",children:(0,r.jsx)("img",{className:"cover",src:e.thumbnail,alt:""})}),(0,r.jsx)("div",{className:"name",children:e.name})]})},e._id)}))})]})})]})})},l=t(4051),u=t.n(l),o=function(e){return new Promise((function(n){var t=new FileReader;t.onload=function(e){var t,r=null===(t=e.target)||void 0===t?void 0:t.result,i=new Blob([new Uint8Array(r)]),c=window.URL.createObjectURL(i);n(c)},t.readAsArrayBuffer(e)}))},d=t(7294),h=t(8193),m=t(9583),f=t(5617),v=t(5538),p=function(e){return{type:"CHANGE_CART",payload:{cart:e}}},x=t(5934);function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n,t,r,i,c,a){try{var s=e[c](a),l=s.value}catch(u){return void t(u)}s.done?n(l):Promise.resolve(l).then(r,i)}function y(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var c=e.apply(n,t);function a(e){g(c,r,i,a,s,"next",e)}function s(e){g(c,r,i,a,s,"throw",e)}a(void 0)}))}}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){N(e,n,t[n])}))}return e}function w(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=[{slice:"/images/slice_1.png",sliceIcon:"/images/slice_icon_1.png"},{slice:"/images/slice_2.png",sliceIcon:"/images/slice_icon_2.png"},{slice:"/images/slice_3.png",sliceIcon:"/images/slice_icon_3.png"},{slice:"/images/slice_4.png",sliceIcon:"/images/slice_icon_4.png"}],_=function(){var e=(0,f.I0)(),n=(0,f.v9)((function(e){return e.cart})),t=(0,d.useState)(S[0]),i=t[0],c=t[1],a=(0,d.useState)(1),s=a[0],l=a[1],j=(0,d.useState)({w:3e3,h:3e3}),g=j[0],N=j[1],_=(0,d.useState)({x:0,y:0}),C=_[0],I=_[1],O=(0,d.useState)(null),P=O[0],k=O[1],A=(0,d.useState)(null),T=A[0],E=A[1],D=(0,d.useRef)(null),L=(0,d.useRef)(null),H=(0,d.useRef)();(0,d.useEffect)((function(){L.current&&!H.current&&(H.current=L.current.getContext("2d")),L.current&&(L.current.width=g.w,L.current.height=g.h)}),[g]);var R=function(){var e=y(u().mark((function e(){var n,t,r,i,c,a,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return n=e.sent,t=n.width,r=n.height,(i=document.createElement("canvas")).width=g.w,i.height=g.h,c=i.getContext("2d"),a=g.w/t,s=g.h/r,l=Math.min(a,s),D.current||(D.current=l),null===P?(k(D.current),null===c||void 0===c||c.drawImage(n,0,0,t,r,C.x,C.y,g.w*D.current,g.h*D.current)):null===c||void 0===c||c.drawImage(n,0,0,t,r,C.x,C.y,g.w*P,g.h*P),e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){return new Promise((function(e){if(T){var n=new Image;n.src=T,n.onload=function(){e(n)}}}))},F=function(){return new Promise((function(e){var n=new Image;n.src=i.slice,n.onload=function(){var t=document.createElement("canvas");t.width=g.w,t.height=g.h;var r=t.getContext("2d");null===r||void 0===r||r.drawImage(n,0,0,n.width,n.height,0,0,g.w,g.h),e(t)}}))};(0,d.useEffect)((function(){if(H.current){if(H.current.clearRect(0,0,g.w,g.h),H.current.fillStyle="#ccc",H.current.beginPath(),0!==s&&1!==s||(H.current.fillRect(0,0,g.w,g.h),T&&R().then((function(e){if(H.current){var n=H.current.createPattern(e,"no-repeat");H.current.fillStyle=n,H.current.fillRect(0,0,g.w,g.h)}F().then((function(e){if(H.current){var n=H.current.createPattern(e,"no-repeat");H.current.fillStyle=n,H.current.fillRect(0,0,g.w,g.h)}}))}))),2===s&&(H.current.arc(g.w/2,g.h/2,g.w/2,0,2*Math.PI),H.current.fill(),T&&R().then((function(e){if(H.current){var n=H.current.createPattern(e,"no-repeat");H.current.fillStyle=n,H.current.fill()}F().then((function(e){if(H.current){var n=H.current.createPattern(e,"no-repeat");H.current.fillStyle=n,H.current.fill()}}))}))),3===s){var e=g.w/2,n=g.h/4,t=e/50;H.current.lineWidth=10,H.current.moveTo(e,n),H.current.bezierCurveTo(e,0,t,0,t,n),H.current.bezierCurveTo(0,g.h/2,e/4,2*n,e,g.h),H.current.bezierCurveTo(g.w-e/4,2*n,g.w,g.h/2,g.w-t,n),H.current.bezierCurveTo(g.w-t,0,e,0,e,n),H.current.strokeStyle="#000",H.current.fill(),T&&R().then((function(e){if(H.current){var n=H.current.createPattern(e,"no-repeat");H.current.fillStyle=n,H.current.fill()}F().then((function(e){if(H.current){var n=H.current.createPattern(e,"no-repeat");H.current.fillStyle=n,H.current.fill()}}))}))}F(),H.current.closePath()}}),[g,s,C,T,P,i]),(0,d.useEffect)((function(){k(null),D.current=null,0===s&&N({w:2100,h:3e3}),1===s&&N({w:3e3,h:3e3}),2===s&&N({w:3e3,h:3e3}),3===s&&N({w:2700,h:3e3})}),[s]);var Z=function(){P&&D.current&&k(P-D.current/50)},M=function(){P&&D.current&&k(P+D.current/50)},U=function(e){var n=g.w/100*e;I(b({},C,{x:C.x+n}))},z=function(e){var n=g.h/100*e;I(b({},C,{y:C.y+n}))},V=function(){var e=y(u().mark((function e(n){var t,r,i,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.persist(),i=null===n||void 0===n||null===(t=n.target)||void 0===t||null===(r=t.files)||void 0===r?void 0:r[0]){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,o(i);case 7:c=e.sent,E(c),k(null),D.current=null;case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){var e=function(e){e.preventDefault();var n=e.keyCode;189===n&&Z(),187===n&&M(),39===n&&U(1),37===n&&U(-1),40===n&&z(1),38===n&&z(-1)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[Z,M,U,z]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"upload",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"title",children:"THI\u1ebeT K\u1ebe B\u1ed8 X\u1ebeP H\xccNH G\u1ed6 C\u1ee6A RI\xcaNG B\u1ea0N"}),(0,r.jsxs)("div",{className:"flexbox mt-30",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)("div",{id:"canvas",children:(0,r.jsx)("canvas",{ref:L})})}),(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsxs)("div",{className:"upload",children:[(0,r.jsx)("label",{htmlFor:"upload",children:"T\u1ea3i h\xecnh l\xean"}),(0,r.jsx)("input",{onChange:V,type:"file",name:"",id:"upload"})]}),(0,r.jsxs)("div",{className:"controls",children:[(0,r.jsx)("div",{onClick:M,className:"control",children:(0,r.jsx)(m.wEH,{})}),(0,r.jsx)("div",{onClick:Z,className:"control",children:(0,r.jsx)(m.iFH,{})}),(0,r.jsx)("div",{onClick:function(){return z(-1)},className:"control",children:(0,r.jsx)(m.PcH,{})}),(0,r.jsx)("div",{onClick:function(){return z(1)},className:"control",children:(0,r.jsx)(m.dOo,{})}),(0,r.jsx)("div",{onClick:function(){return U(-1)},className:"control",children:(0,r.jsx)(m.O18,{})}),(0,r.jsx)("div",{onClick:function(){return U(1)},className:"control",children:(0,r.jsx)(m.Rdr,{})}),(0,r.jsx)("p",{children:"Ho\u1eb7c d\xf9ng ph\xedm +,- v\xe0 m\u0169i t\xean tr\xean b\xe0n ph\xedm \u0111\u1ec3 \u0111i\u1ec1u ch\u1ec9nh"})]}),(0,r.jsxs)("div",{className:"frame",children:[(0,r.jsx)("div",{className:"title",children:"Khung h\xecnh"}),(0,r.jsx)("div",{onClick:function(){return l(0)},className:"frame_1 ".concat(0===s?"selected":""),children:(0,r.jsx)("span",{children:"H\xecnh ch\u1eef nh\u1eadt 21x30"})}),(0,r.jsx)("div",{onClick:function(){return l(1)},className:"frame_2 ".concat(1===s?"selected":""),children:"H\xecnh vu\xf4ng 30x30"}),(0,r.jsx)("div",{onClick:function(){return l(2)},className:"frame_3 ".concat(2===s?"selected":""),children:"H\xecnh tr\xf2n 30x30"}),(0,r.jsxs)("div",{onClick:function(){return l(3)},className:"frame_4 ".concat(3===s?"selected":""),children:[(0,r.jsx)(h.M_L,{}),(0,r.jsx)("span",{children:"Tr\xe1i tim 27x30"})]})]}),(0,r.jsxs)("div",{className:"slices",children:[(0,r.jsx)("div",{className:"title",children:"\u0110\u01b0\u1eddng c\u1eaft"}),S.map((function(e){return(0,r.jsx)("div",{onClick:function(){return function(e){c(e),D.current=null,k(null)}(e)},className:"slice ".concat(i.slice===e.slice?"selected":""),children:(0,r.jsx)("img",{src:e.sliceIcon,alt:""})},e.slice)}))]})]})]}),(0,r.jsx)("div",{onClick:function(){var t;if(!T)return(0,v.Am)("B\u1ea1n ch\u01b0a ch\u1ecdn h\xecnh \u1ea3nh");var r=null===(t=L.current)||void 0===t?void 0:t.toDataURL();if(r){for(var i=r.split(","),c=i[0].indexOf("base64")>=0?atob(i[1]):decodeURI(i[1]),a=i[0].split(":")[1].split(";")[0],s=new Uint8Array(c.length),l=0;l<c.length;l++)s[l]=c.charCodeAt(l);var u=new Blob([s],{type:a}),o=URL.createObjectURL(u);n.push({_id:(0,x.Z)(),thumbnail:o,file:u,price:5e5,quantity:1}),e(p(w(n))),(0,v.Am)("\u0110\xe3 th\xeam v\xe0o gi\u1ecf h\xe0ng"),E(null)}},className:"button mt-20",children:"Th\xeam v\xe0o gi\u1ecf h\xe0ng"})]})})})},C=_,I=t(1163),O=function(e){var n=e.pageData,t=e.items,c=(0,I.useRouter)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"products",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h1",{className:"title",children:n.name}),(0,r.jsx)("div",{className:"flexbox flex4 mt-30",children:null===t||void 0===t?void 0:t.data.map((function(e){return(0,r.jsx)("div",{className:"item",children:(0,r.jsx)(a(),{href:"/".concat(1===e.type?"product-detail":"news-detail","/").concat(e.slug),children:(0,r.jsxs)("a",{className:"product",children:[(0,r.jsx)("div",{className:"img",children:(0,r.jsx)("img",{className:"cover",src:e.thumbnail,alt:""})}),(0,r.jsx)("div",{className:"name",children:e.name}),(0,r.jsxs)("div",{className:"price",children:[e.price.toLocaleString(),"\u0111"]})]})})},e._id)}))}),(0,r.jsx)("div",{className:"row"}),(0,r.jsx)(i.tl,{onChange:function(e){return c.push("/product/".concat(c.query.product,"?page=").concat(e))},current:t.current,pageSize:t.pageSize,total:t.total})]})})})},P=t(6066);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function T(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){var n,t=e.pageData,i=(0,f.I0)(),c=(0,f.v9)((function(e){return e.cart}));(0,d.useEffect)((function(){console.log(c)}),[c]);var a=(0,d.useState)(1),s=a[0],l=a[1],u=(0,d.useState)(t.thumbnail),o=u[0],h=u[1],x=function(e,n){if(e){var t=Number(e.target.value);(!t||t<1)&&(t=1),l(t)}else{var r=s+(n||0);(!r||r<1)&&(r=1),l(r)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"product-detail",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"flexbox",children:[(0,r.jsx)("div",{className:"col-4",children:(0,r.jsxs)("div",{className:"image-slice",children:[(0,r.jsx)("div",{className:"main",children:(0,r.jsx)("img",{src:o,alt:""})}),(0,r.jsx)("div",{className:"slider",children:(0,r.jsxs)(P.Z,{infinite:!1,speed:500,slidesToShow:3,slidesToScroll:3,children:[(0,r.jsx)("div",{onClick:function(){return h(t.thumbnail)},className:"img",children:(0,r.jsx)("img",{src:t.thumbnail,alt:""})}),null===(n=t.images)||void 0===n?void 0:n.map((function(e,n){return(0,r.jsx)("div",{onClick:function(){return h(t.thumbnail)},className:"img",children:(0,r.jsx)("img",{src:e,alt:""})},e+n)}))]})})]})}),(0,r.jsx)("div",{className:"col-8",children:(0,r.jsxs)("div",{className:"detail",children:[(0,r.jsx)("h1",{className:"name",children:t.name}),(0,r.jsxs)("div",{className:"price",children:[t.price.toLocaleString(),"\u0111"]}),(0,r.jsx)("div",{className:"quantity",children:(0,r.jsxs)("div",{className:"flexbox",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("div",{className:"input",children:[(0,r.jsx)("div",{onClick:function(){return x(null,-1)},className:"change",children:(0,r.jsx)(m.iFH,{})}),(0,r.jsx)("input",{value:s,onChange:x,type:"number",name:"",id:""}),(0,r.jsx)("div",{onClick:function(){return x(null,1)},className:"change",children:(0,r.jsx)(m.wEH,{})})]})}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)("div",{className:"add",children:(0,r.jsx)("div",{onClick:function(){var e=c.find((function(e){return e._id===t._id}));e?e.quantity+=s:c.push(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){A(e,n,t[n])}))}return e}({},t,{quantity:s})),i(p(T(c))),(0,v.Am)("\u0110\xe3 th\xeam ".concat(s," s\u1ea3n ph\u1ea9m v\xe0o gi\u1ecf h\xe0ng"))},className:"button",children:"Th\xeam v\xe0o gi\u1ecf h\xe0ng"})})})]})}),(0,r.jsx)("div",{className:"description",children:t.description})]})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:t.content},className:"content"})})]})})})})},D=E,L=t(477),H=t(2688),R=t(119),q=t(9707),F=t(626),Z=t(207),M=t(9669),U=t.n(M);function z(e,n,t,r,i,c,a){try{var s=e[c](a),l=s.value}catch(u){return void t(u)}s.done?n(l):Promise.resolve(l).then(r,i)}function V(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var c=e.apply(n,t);function a(e){z(c,r,i,a,s,"next",e)}function s(e){z(c,r,i,a,s,"throw",e)}a(void 0)}))}}var B=Object.freeze({BASE_URL:"https://dev-online-gateway.ghn.vn/shiip/public-api",TOKEN:"2bf996ce-638c-11ec-ac64-422c37c6de1b",CLIENT_ID:"2501985",SHOP_ID:84536,SHOP_DISTRICT_ID:1454,SHOP_WARD_CODE:21211}),G=U().create({baseURL:B.BASE_URL,headers:{Token:B.TOKEN,"Content-Type":"application/json"}}),K=(function(){var e=V(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.post("/v2/shop/all").then((function(e){return e&&200===e.status?e.data:null}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=V(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("/master-data/province").then((function(e){return e&&200===e.status?e.data:null}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),W=function(){var e=V(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("/master-data/district?province_id=".concat(n)).then((function(e){return e&&200===e.status?e.data:null}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=V(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("/master-data/ward?district_id=".concat(n)).then((function(e){return e&&200===e.status?e.data:null}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=function(){var e=V(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.post("/v2/shipping-order/available-services",{shop_id:B.SHOP_ID,from_district:B.SHOP_DISTRICT_ID,to_district:n}).then((function(e){return e&&200===e.status?e.data:null}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=function(){var e=V(u().mark((function e(n,t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.post("/v2/shipping-order/fee",{from_district_id:B.SHOP_DISTRICT_ID,service_type_id:2,to_district_id:n,to_ward_code:t.toString(),height:50,length:20,weight:200,width:20,insurance_value:null,coupon:null}).then((function(e){return e&&200===e.status?e.data:null}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function Q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function J(e,n,t,r,i,c,a){try{var s=e[c](a),l=s.value}catch(u){return void t(u)}s.done?n(l):Promise.resolve(l).then(r,i)}function ee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ee(e,n,t[n])}))}return e}function te(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=function(){var e=(0,d.useRef)(),n=(0,d.useState)([]),t=n[0],i=n[1],c=(0,d.useState)(null),s=c[0],l=c[1],o=(0,d.useState)([]),h=o[0],v=o[1],x=(0,d.useState)(null),j=x[0],g=x[1],y=(0,d.useState)([]),N=y[0],b=y[1],w=(0,d.useState)(null),S=w[0],_=w[1];(0,d.useEffect)((function(){K().then((function(e){return i(te(e.data))}))}),[]),(0,d.useEffect)((function(){s&&W(s).then((function(e){v(te(e.data))}))}),[s]),(0,d.useEffect)((function(){j&&X(j).then((function(e){console.log(e),b(te(e.data))}))}),[j]);var C=(0,f.v9)((function(e){return e.cart})),I=(0,f.I0)(),O=function(e,n){var t=e.quantity+n;t<1&&(t=1),e.quantity=t,I(p(te(C)))};(0,d.useEffect)((function(){s&&j&&S&&Y(j,S).then((function(e){console.log(e)}))}),[s,j,S]);var P=function(){var e,n=(e=u().mark((function e(n){var t,r,i,c,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=0;case 2:if(!(r<C.length)){e.next=17;break}if(!(i=C[r]).file){e.next=13;break}return(c=new FormData).append("file",i.file),e.next=9,F.Z.post("upload",c);case 9:a=e.sent,s="".concat(Z.y).concat(a.data.path),i.thumbnail=s,console.log(i.thumbnail);case 13:t.push({product:i._id||null,name:i.name,price:i.price,quantity:i.quantity,thumbnail:i.thumbnail});case 14:r++,e.next=2;break;case 17:return e.next=19,F.Z.post("/order",ne({},n,{items:t}));case 19:e.sent;case 20:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var c=e.apply(n,t);function a(e){J(c,r,i,a,s,"next",e)}function s(e){J(c,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"cart mt-30",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"title pb-20",children:"Gi\u1ecf h\xe0ng"}),(0,r.jsxs)("div",{className:"flexbox mt-30",children:[(0,r.jsx)("div",{className:"col-8",children:(0,r.jsx)("div",{className:"cart-items",children:C.map((function(e){return(0,r.jsx)("div",{className:"item",children:(0,r.jsxs)("div",{className:"flexbox",children:[(0,r.jsx)("div",{className:"col-4",children:(0,r.jsx)("div",{className:"img",children:(0,r.jsx)("img",{src:e.thumbnail,alt:""})})}),(0,r.jsx)("div",{className:"col-8",children:(0,r.jsxs)("div",{className:"info",children:[(0,r.jsxs)("div",{onClick:function(){return function(e){var n=C.findIndex((function(n){return n._id===e._id}));C.splice(n,1),I(p(te(C)))}(e)},className:"delete",children:[(0,r.jsx)(m.Xm5,{})," "]}),(0,r.jsx)("div",{className:"name",children:e.slug?(0,r.jsx)(a(),{href:"/product-detail/".concat(e.slug),children:e.name}):"Gh\xe9p h\xecnh tranh g\u1ed7"}),(0,r.jsxs)("div",{className:"price",children:[e.price.toLocaleString(),"\u0111"]}),(0,r.jsx)("div",{className:"quantity",children:(0,r.jsxs)("div",{className:"input",children:[(0,r.jsx)("div",{onClick:function(){return O(e,-1)},className:"change",children:(0,r.jsx)(m.iFH,{})}),(0,r.jsx)("input",{onChange:function(n){return function(e,n){var t=Number(e.target.value);(!t||t<1)&&(t=1),n.quantity=t,I(p(te(C)))}(n,e)},value:e.quantity,type:"number",name:"",id:""}),(0,r.jsx)("div",{onClick:function(){return O(e,1)},className:"change",children:(0,r.jsx)(m.wEH,{})})]})}),(0,r.jsxs)("div",{className:"sum",children:["T\u1ed5ng : ",(e.quantity*e.price).toLocaleString(),"\u0111"]})]})})]})},e._id)}))})}),(0,r.jsx)("div",{className:"col-4",children:(0,r.jsxs)("div",{className:"check-out",children:[(0,r.jsxs)("div",{className:"sum",children:["T\u1ea1m t\xednh: ",(0,r.jsxs)("span",{children:[C.reduce((function(e,n){return{sum:e.sum+n.quantity*n.price}}),{sum:0}).sum.toLocaleString(),"\u0111"]})]}),(0,r.jsx)("div",{className:"button",children:"Thanh to\xe1n"}),(0,r.jsx)("div",{className:"return",children:(0,r.jsx)(a(),{href:"/",children:"Ti\u1ebfp t\u1ee5c mua s\u1eafm"})})]})})]}),(0,r.jsx)("div",{className:"title",children:"Th\xf4ng tin v\u1eadn chuy\u1ec3n"}),(0,r.jsxs)(L.Z,{onFinish:P,ref:e,children:[(0,r.jsx)(L.Z.Item,{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}],name:"phone",children:(0,r.jsx)(H.Z,{placeholder:"\u0110i\u1ec7n tho\u1ea1i"})}),(0,r.jsx)(L.Z.Item,{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean"}],name:"name",children:(0,r.jsx)(H.Z,{placeholder:"H\u1ecd t\xean"})}),(0,r.jsx)(L.Z.Item,{rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn t\u1ec9nh/th\xe0nh"}],name:"province",children:(0,r.jsx)(R.Z,{showSearch:!0,optionFilterProp:"ProvinceName",placeholder:"T\u1ec9nh / th\xe0nh ph\u1ed1",onChange:function(n){l(n),g(null),e.current.setFieldsValue(ne({},e.current.getFieldsValue(),{district:null}))},filterOption:function(e,n){var t;return!!(null===n||void 0===n||null===(t=n.children)||void 0===t?void 0:t.toString().toLowerCase().includes(e.toLowerCase()))},children:t.map((function(e){return(0,r.jsx)(R.Z.Option,{value:e.ProvinceID,children:e.ProvinceName},e.ProvinceID)}))})}),s&&(0,r.jsx)(L.Z.Item,{dependencies:["province"],rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn qu\u1eadn/huy\u1ec7n"}],name:"district",children:(0,r.jsx)(R.Z,{showSearch:!0,optionFilterProp:"DistrictName",placeholder:"Qu\u1eadn/Huy\u1ec7n",filterOption:function(e,n){var t;return!!(null===n||void 0===n||null===(t=n.children)||void 0===t?void 0:t.toString().toLowerCase().includes(e.toLowerCase()))},onChange:function(n){g(n),_(null),$(n).then((function(e){console.log(e)})),e.current.setFieldsValue(ne({},e.current.getFieldsValue(),{ward:null}))},children:h.map((function(e){return(0,r.jsx)(R.Z.Option,{value:e.DistrictID,children:e.DistrictName},e.DistrictID)}))})}),j&&(0,r.jsx)(L.Z.Item,{rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn ph\u01b0\u1eddng/x\xe3"}],name:"ward",children:(0,r.jsx)(R.Z,{showSearch:!0,optionFilterProp:"DistrictName",placeholder:"Ph\u01b0\u1eddng/X\xe3",filterOption:function(e,n){var t;return!!(null===n||void 0===n||null===(t=n.children)||void 0===t?void 0:t.toString().toLowerCase().includes(e.toLowerCase()))},onChange:function(e){return _(e)},children:N.map((function(e){return(0,r.jsx)(R.Z.Option,{value:e.WardCode,children:e.WardName},e.WardCode)}))})}),(0,r.jsx)(L.Z.Item,{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp \u0111\u1ecba ch\u1ec9"}],name:"address",children:(0,r.jsx)(H.Z,{placeholder:"\u0110\u1ecba ch\u1ec9 c\u1ee5 th\u1ec3"})}),(0,r.jsx)(q.Z,{htmlType:"submit",children:"\u0110\u1eb7t h\xe0ng"})]})]})})})},ie=re;function ce(e){var n=e.date,t=e.format,r=void 0===t?"dd/MM/yyyy - hh:mm:ss":t,i=(n=new Date(n)).getDate()||1,c=n.getMonth()+1||1,a=n.getFullYear()||1991,s=n.getHours(),l=n.getMinutes(),u=n.getSeconds();return r.replace("dd",i.toString()).replace("MM",c.toString()).replace("yyyy",a.toString()).replace("hh",s.toString()).replace("mm",l.toString()).replace("ss",u.toString())}var ae=function(e){var n=e.pageData,t=e.items,c=(0,I.useRouter)();return(0,r.jsx)("div",{className:"products",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h1",{className:"title",children:n.name}),(0,r.jsx)("div",{className:"flexbox flex4 mt-30",children:null===t||void 0===t?void 0:t.data.map((function(e){return(0,r.jsx)("div",{className:"item",children:(0,r.jsx)(a(),{href:"/".concat(1===e.type?"product-detail":"news-detail","/").concat(e.slug),children:(0,r.jsxs)("a",{className:"product",children:[(0,r.jsx)("div",{className:"img",children:(0,r.jsx)("img",{className:"cover",src:e.thumbnail,alt:""})}),(0,r.jsx)("div",{className:"name",children:e.name}),(0,r.jsx)("div",{className:"create-date",children:ce({date:e.createdAt})}),(0,r.jsx)("div",{className:"description",children:e.description})]})})},e._id)}))}),(0,r.jsx)("div",{className:"row"}),(0,r.jsx)(i.tl,{onChange:function(e){return c.push("/product/".concat(c.query.product,"?page=").concat(e))},current:t.current,pageSize:t.pageSize,total:t.total})]})})},se=function(e){var n=e.pageData;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"news-detail",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h1",{className:"title",children:n.name}),(0,r.jsx)("div",{className:"create-date",children:ce({date:n.createdAt})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.content},className:"content"})})]})})})}}}]);